% !TEX root = book.tex
\chapter{General topology}
\label{general_topology}
So far we have been studying \emph{algebraic} structures - that is we considered a set $X$ and functions $X\times X\to X$ (as multiplication or addition)
or functions $X\to X$ (as taking the inverse). Each of these functions is in fact a subset of $X^n$ for some integer $n$. Now we will start with structures of a different type - for a set
$X$ we will consider a subset of $\mathcal P(X)$, that is we will select a family of some "special" subsets of $X$.

Eventually you will see, that these new concepts will enable us
to derive very quickly and elegantly the majority of the results
taught in undergraduate real analysis courses.

\section{The category of topological spaces}
Consider a set $X$. A topology is a set $\mathcal{T}_X \subseteq \mathcal P(X) $ such that:
\begin{enumerate}
	\item $\varnothing, X\in \mathcal{T}_X$
	\item if $A, B\in \mathcal{T}_X$, then $A\cap B\in \mathcal{T}_X$
	\item if $A_i\in \mathcal{T}_X$ for $i\in I$, then $\bigcup_{i\in I} A_i\in \mathcal T_X$
\end{enumerate}
Members of topology we call \textbf{open sets}.

\begin{prob}
	Using mathematical induction prove that the intersection of finitely many open sets is open. Therefore in the definition of topology, we could require that finite intersections of open
  sets should be open.
\end{prob}

You may wonder whether, for a given set, topology is unique. As you can prove, there can be many topologies.

\begin{exercise}
  Let $X$ be a set. Prove that the following families of subsets are topologies:
  \begin{enumerate}
    \item \textbf{Trivial topology:} $\{\varnothing, X\}$.
    \item \textbf{Discrete topology:} The power set of $X$: $\mathcal P(X)$.
    \item \textbf{Cofinite topology} $\mathcal T_C=\{\emptyset\}\cup \{A\subseteq X : X\setminus A \text{ is finite}\}$ Hint: think in terms of complements.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  Number of topologies.
  \begin{enumerate}
    \item Prove that for an infinite set, there are at least three distinct topologies.
    \item For what sets, there is exactly one topology on them?
  \end{enumerate}
\end{exercise}

% \begin{prob}
%   \textbf{Subspace topology}
%   Let $X$ be a set and $\mathcal T_X$ a topology on it. For $A\subseteq X$ we define $\mathcal T_A=\{U\cap A : U\in \mathcal T_X\}$. Prove that $\mathcal T_A$ is a topology on $A$.
% \end{prob}

% \begin{prob}
%   Real numbers $\mathbb R$ are usually equipped with the following topology:
%   $X\subseteq \mathbb R$ is open iff for each $x\in X$ there is an open interval $(a_x,b_x)$ such that
%   $x\in (a_x, b_x)\subseteq X$.
%   \begin{enumerate}
%     \item Prove that it is indeed a topology.
%     \item Let \textbf{a ball} be a set $B(x,r) = \{y\in \mathbb R : |x-y| < r\}$ for $r>0$. Prove that $(a,b)\neq \emptyset$ can be written as $B(x,r)$ for suitable $x$ and $r$
%     \item Prove that $X$ is open iff for each $x\in X$ there is a $r>0$ such that $B(x,r)\subseteq X$. We will see that this results generalises to much broader category of spaces
%       than single $\mathbb R$.
%   \end{enumerate}
% \end{prob}

Therefore there is a need for a new definition.

\begin{definition}
  A \textbf{topological space} is a pair $(X, \mathcal T)$, where $X$ is a set and $\mathcal T\subseteq \mathcal P(X)$ is a topology on $X$. Sometimes we will abuse our notation and write just $X$ for a topological space, assuming that topology is known out from context.
\end{definition}

Now we have good candidates for objects of a new category - category of topological spaces. We need morphisms and operation of morphism composition. As we are dealing with a family of sets, we are now not interested in functions that preserve some properties of operations on elements - we are looking for a function that will preserve set operations.

\begin{exercise}
  Let $f: X\to Y$ be a function. Prove that:
  \begin{enumerate}
    \item $f\left(\cup_i U_i\right)=\cup_i f(U_i)$ but $f(\cap_i U_i)\subseteq \cap_i f(U_i)$. Find a case proving that sign $\subseteq$ cannot be replaced with the equality sign.
    \item Prove that $f^{-1}(\cup_iV_i)=\cup_i f^{-1}(V_i)$ and $f^{-1}(\cap_iV_i)=\cap_if^{-1}(V_i)$
  \end{enumerate}
\end{exercise}

Therefore we will be interested in the pre-image of a set.

\begin{definition}
  Let $(X,\mathcal T)$ and $(Y, \tau)$ be two topological spaces. We say that a function $f:X\to Y$ is \textbf{continuous} if for every $V\in \tau$, we have $f^{-1}(V)\in \mathcal T$. We will write:
  $f:(X,\mathcal T)\to(Y, \tau)$ or just $f:X\to Y$ if topologies are known from the context.
\end{definition}

To prove that continuous functions are category morphisms, we need to check other conditions:

\begin{exercise}
  Prove that topological spaces and continuous functions form a category:
  \begin{enumerate}
    \item Consider two topological spaces. Prove that continuous functions from one space to the other form a set.
    \item Prove that identity mappings are continuous.
    \item Prove that the composition of two continuous maps is continuous.
  \end{enumerate}
\end{exercise}

\begin{definition}
  The category of topological spaces and continuous functions is usually written as \textbf{Top}.
\end{definition}

\begin{exercise}
  Prove that \textbf{Top} can be given a structure of a \textbf{concrete category}, that is there exists a faithful functor $U: \textbf{Top}\to \textbf{Set}$, where faithful means that for any two objects $X,Y$
  induced function $U_{XY}: \Hom(X,Y)\to \Hom(U(X), U(Y))$ is injective.
\end{exercise}

We have a (concrete) category, we can investigate different morphisms:

\begin{exercise}
  Types of morphisms
  \begin{enumerate}
    \item Prove that monomorphisms are exactly injective continuous mappings
    \item Prove that epimorphisms are exactly surjective continuous mappings
    \item Prove that isomorphisms are continuous bijective maps with continuous inverse
  \end{enumerate}
\end{exercise}

The most important for us will be isomorphisms, that traditionally are given a different name in topology.

\begin{definition}
  A \textbf{homeomorphism}\footnote{from the Ancient Greek \textit{homois} - similar and \textit{morphe} - shape} is an isomorphism in \textbf{Top}, that is a continuous function with a continuous inverse. Two spaces are \textbf{homeomorphic} if there exists a homeomorphism between them.
\end{definition}

We are interested in identifying properties that are preserved by homeomorphisms - homeomorphic spaces should be indistinguishable for us and we will identify them. One of topology aims is to classify all the spaces up to homeomorphisms. This is a hard problem, but we can try to classify a smaller class of spaces:

\begin{exercise}
  Classification of discrete spaces.
  Prove that two \textit{discrete} spaces $X$ and $Y$ are homeomorphic iff $|X|=|Y|.$
\end{exercise}

\section{New spaces from old}




This was ,,global" point of view - we have a structure of subsets of $X$. We can also try to express these global properties using local
properties - by considering special constructions around a single point and using a set of these points to recover a global property.
Consider a topological space $(X,\mathcal T_X)$ and a point $x\in X$.
If $x\in U\in \mathcal T_X$, we say that $U$ is an open neighborhood
of $x$. If $x\in U\subseteq V$, where $U$ is open, we call $V$ a
neighborhood of $x$.

\begin{prob}
  Prove that each point has an open neighborhood.
\end{prob}

\begin{prob}
  Prove that $A$ is an open set if and only if each point $a$ has
  a neighborhood $U_a\in A$ contained in $A$
  (that is $U_a\subseteq A$).
\end{prob}

\noindent For a set $A$ in a topological space, we define \textbf{the
interior of $A$} as:
$$\Int A=\bigcup \mathcal U, \text{ where } \mathcal U = \{U\in \mathcal T : U\subseteq A \}.$$

\begin{prob}
  Prove that:
  \begin{enumerate}
    \item $\Int A$ is an open set.
    \item if $A'\subseteq A$ is open, then $A'\subseteq \Int A$ (
    so in some sense, $\Int A$ is the biggest open set contained in
    $A$)
    \item $\Int A = A$ iff $A$ is open
    \item $\Int \Int A = \Int A$ for any $A$
  \end{enumerate}
\end{prob}

\begin{prob}
  Let $A'\subseteq A$. Prove that:
  \begin{enumerate}
    \item $\Int A' \subseteq \Int A$
    \item $\Int A \cup \Int B\subseteq \Int (A\cup B)$
  \end{enumerate}
  You can prove also that the union can be arbitrary.
\end{prob}

\begin{prob}
	We say that $a$ is an \textbf{interior point} of $A$ if there is open $U_a\subseteq A$ such that $a\in U_a$. Prove that $\Int A$ is the set
	of all interior points of $A$.
\end{prob}

\subsection{Closed sets and closure}
Consider a topological space $(X, \mathcal T_X)$. We say that $A\subseteq X$ is closed if and only if $X\setminus A$ is open.

\begin{prob}
  Prove these properties of closed sets in space $(X, \mathcal T_X)$:
  \begin{enumerate}
    \item $\varnothing$ and  $X$ are closed
    \item If $A_1, A_2,\dots, A_n$ are closed, then their
      union $A_1\cup A_2\cup\dots\cup A_n$ is closed.
    \item If $\mathcal A$ is any family of
      closed sets, then the intersection $\bigcap \mathcal A$ is
      closed.
  \end{enumerate}
\end{prob}

\begin{prob}
  We say that $p$ is a limit point of $A\subseteq X$ if for every every open neighborhood $U$ of $p$ there is $q_U\neq p$ such that
  $q_U\in A\cap U$. Prove that $A$ is closed iff it contains all
  of it's limit points.
\end{prob}

\noindent We define \textbf{the closure} of a set $A$ as:
$$\Cl A = \bigcap \mathcal X,$$
where $\mathcal X = \{X\subseteq A : X \text{ is closed} \}$.

\begin{prob}
  Prove that:
  \begin{enumerate}
    \item $\Cl A$ is a closed set.
    \item if $C$ is closed and $A\subseteq C$,
    then $\Cl A\subseteq C$ (so in some sense,
    $\Cl A$ is the smallest closed set containing $A$)
    \item $A\subseteq \Cl A$
    \item $\Cl (A\cup B) = \Cl A \cup \Cl B$
    \item $\Cl A = A$ iff $A$ is closed
    \item $\Cl \Cl A = \Cl A$ for any $A$
  \end{enumerate}
\end{prob}

\begin{prob}
	We say that $p$ is an \textbf{adherent point} of $A$
  (or \textbf{point of closure})
  if for any neighborhood $V$ of $p$ we have
  $A\cap V\neq \emptyset$. Alternatively, we can say that every
  neighborhood of $p$ contains
  a point from $A$. Prove that $\Cl A$ is the set
	of all adherent points of $A$.
\end{prob}

\begin{prob}
  We say that $A\subseteq X$ is \textbf{dense} if $\Cl A=X$. Prove
  that $A$ is dense iff for every $U\in \mathcal T_X$, $A\cap U\neq \emptyset$
\end{prob}

\begin{prob}
  \begin{enumerate}
    \item Let $r\in \mathbb R$. Prove that for every neighborhood $V$ of $r$ there is $q\in \mathbb Q$ such that $q\in V$.
      Hint: each neighborhood must have an interval. And you should have proven that in each interval there is a rational.
    \item Conclude that rationals are dense in reals.
  \end{enumerate}
\end{prob}

\subsection{Boundary and exterior}

\noindent We define the \textbf{boundary of $A$} as:
$$\partial A=\Fr A = \Cl A \setminus \Int A$$

\begin{prob}
  We say that $p$ is a \textbf{frontier} point of $A$ if every open
  neighborhood of $p$ intersects both $A$ and $A^c$, so if
  for every open neighborhood $U_p$ we have
  $U_p\cap A\neq \emptyset$ and $U_p\cap A^c\neq \emptyset$.
  Prove that the boundary of $A$ is exactly the set of frontier
  points of $A$.
\end{prob}

\begin{prob}
  Prove that boundary is always closed.
\end{prob}

\begin{prob}
  Prove that $\partial \partial A \subseteq \partial A$.
\end{prob}

\begin{prob}
  Prove that $\partial A = \partial A^c.$
\end{prob}

\begin{prob}
  Prove that $\partial A = \emptyset$ iff $A$ is simultaneously
  open and closed.
\end{prob}

We define the \textbf{exterior of $A$} as
$$\Ext A = X\setminus \Cl A$$

\begin{prob}
  Prove that $\partial A=\Cl A \cap \Cl \Ext A$
\end{prob}

\subsection{Bases and countability axioms}
As we have seen, there can be many open sets. Let's try to simplify the situation by considering a smaller
family of open sets from which we will be able to recover the whole topology.

Let $(X, \mathcal T)$ be a topological space. We say that a family of sets $\mathcal B\subseteq \mathcal T$
is a \textbf{basis of topology} iff every open set can be written as a sum of a subfamily of $\mathcal B$.
Namely for each $U\in \mathcal T$ there is $\mathcal B_U\subseteq \mathcal B$ such that:
$$U=\bigcup \mathcal B_U$$

\begin{prob}
  Prove that $\mathcal B$ is a basis for $(X, \mathcal T)$ iff
  for every $x\in X$ and every neighborhood $U_i$ of $x$, there
  is $B_i\in \mathcal B$ such that $x\in B_i\subseteq U_i$.
\end{prob}

\begin{prob}
  Let $\mathcal B$ be a basis of $(X, \mathcal T)$. Prove that:
  \begin{enumerate}
    \item $\bigcup \mathcal B = X$
    \item If $U, V\in \mathcal T$ and $x\in U\cap V$, then there is a
      set $B_x\in \mathcal B$ such that $x\in B_x\subseteq U\cap V.$
  \end{enumerate}
\end{prob}

% Proving the converse, we get another, equivalent definition of basis:
% TODO TODO

We say that a space $(X,\mathcal T)$ is \textbf{second countable} iff
it has a countable basis.

\begin{prob}
  Consider $\mathbb R$ with it's standard topology. If $x\in \mathbb R$ and $U$ is an open set containing $x$, we can find a ball $B(x, r),~r>0$ such that $B(x,r)\subseteq U$. Using the fact that
  rationals are dense in reals, prove that you can
  find $p,q\in \mathbb Q$ such that $x\in (p,q)\subseteq U$.
\end{prob}

\begin{prob}
  Prove that $\mathbb R$ is second countable.
\end{prob}

\section{Continuous maps and homeomorphisms}
Consider two topological spaces $(X,\mathcal T)$ and $(Y, \tau)$.
We say that function (or \textbf{map}) $f:X\to Y$ is \textbf{continuous} iff for every
open set $U\in \tau$, it's preimage is open: $f^{-1}(U)\in \mathcal T$.

\begin{prob}
  Prove that a function is continuous iff preimage of every \textit{closed} set is closed.
\end{prob}

% The next problem shows that we can employ the concept of a basis to
% shorten proofs:

% \begin{prob}
%   % Using bases to check continuity
%   Let $f: (X,\mathcal T)\to (Y, \tau)$ and $\mathcal B$ be a basis of
%   $(Y, \tau)$. Then $f$ is continuous iff $f^{-1}(B)\in \mathcal T$ for every $B\in \mathcal B$.
% \end{prob}

\begin{prob}
  Assuming that $\mathbb R$ is equipped with it's standard topology,
  prove that functions from $\mathbb R$ to $\mathbb R$ are continuous:
  \begin{enumerate}
    \item $f(x)=ax+b$
    \item $f(x)=x^2$
  \end{enumerate}
\end{prob}

\begin{prob}
  Let $f: (X,\mathcal T)\to (Y, \tau)$. Prove that $f$ is continuous
  iff $f(\Cl A)\subseteq \Cl f(A)$ for every $A\subseteq X$.
\end{prob}

We say that a map $f: (X,\mathcal T)\to (Y, \tau)$ is a \textbf{homeomorphism} iff is bijective and both $f$ and $f^{-1}$ are continuous. We say that two topological spaces are \textbf{homeomorphic} iff there is a homeomorphism between them.

\section{Connected spaces}
We say that a topological space $(X, \mathcal T)$ is \textbf{disconnected} if there exists two disjoint, non-empty sets such their union is the whole space $X$. Or using symbols:
$(X, \mathcal T)$ is disconnected if $U,V\in \mathcal T$ such that $U,V\neq \emptyset,~U\cap V =\emptyset,~U\cup V=X$.
\begin{prob}
  Let $(X, \mathcal T)$ be a topological space. Prove that these conditions are equivalent:
  \begin{enumerate}
    \item The space is disconnected.
    \item There are two \textit{open} sets $A,B\subseteq X$ such that $A,B\neq \emptyset,~A\cap B=\emptyset,~A\cup B=X$.
    \item There are no two \textit{closed} sets $A,B\subseteq X$ such that $A,B\neq \emptyset,~A\cap B=\emptyset,~A\cup B=X$.
    \item There is a set $S\subset X,~S\neq \emptyset, X$ such that and $S$ is open and closed simultaneously (sometimes sets that are both open and closed are called
    \textbf{clopen}).
    \item There is a set $S\subset X,~S\neq \emptyset, X$ such that $\partial S=\emptyset$.
    \item There are subsets $A,B\subseteq X,~ A,B\neq \emptyset$ such that $A\cap \Cl B = B\cap \Cl A=\emptyset$ and $A\cup B=X$.
  \end{enumerate}
\end{prob}

If a space is not disconnected, it is called \textbf{connected}.

\begin{prob}
  Let $(X, \mathcal T)$ be a topological space. Prove that these conditions are equivalent:
  \begin{enumerate}
    \item The space is connected.
    \item There are no two \textit{open} sets $U,V\subseteq X$ such that $U,V\neq \emptyset,~U\cap V=\emptyset,~U\cup V=X$.
    \item There are no two \textit{closed} sets $U,V\subseteq X$ such that $U,V\neq \emptyset,~U\cap V=\emptyset,~U\cup V=X$.
    \item The only sets that are open and closed simultaneously are $\emptyset$ and $X$.
    \item All continuous maps from $(X, \mathcal T)$ to $(\{0,1\}, \text{discrete topology})$ are constant.
    \item If $S\subseteq X$ and $\partial S=\emptyset$, then $S=\emptyset$ or $S=X$.
  \end{enumerate}
\end{prob}


\begin{exercise}
  Prove that if $A$ and $B$ are connected and $A\cap B\neq \emptyset$, then $A\cup B$ is connected.
\end{exercise}

\begin{exercise}
  Prove that if $A$ is connected, then any set $B$ such that $A\subseteq B\subseteq \Cl A$ is connected (including $\Cl A$).
\end{exercise}

\begin{exercise}
  Connected space that is not path-connected\footnote{An example that can be found in most textbooks uses sine instead of our $f$ and is called "the topologist’s sine curve". As we haven't discovered sine yet,
  I needed to come up with another example.}
  \begin{enumerate}
    \item We define a function $f: \mathbb R\to \mathbb R$ such that:
      $$f(x)=
        \begin{cases}
          1-|1-x| \text{ if } x\in [0,2]\\
          f(x+2) \text{ if } x < 0\\
          f(x-2) \text{ if } x > 2
        \end{cases}
      $$
      Prove that this function is continuous.
    \item Let $A=\{(x,f(1/x))\in \R^2 : x\in (0,1]\}$. Why is it connected?
    \item Prove that the $\Cl A$ is connected, but not path-connected.
  \end{enumerate}
\end{exercise}
